<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–¢—Ä–µ–Ω–∞–∂—ë—Ä –ø–µ—Ä–µ–ø–∏—Å–∫–∏ ‚Äî —á–∞—Ç</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo">üí¨</div>
      <div>
        <div class="title">–¢—Ä–µ–Ω–∞–∂—ë—Ä –ø–µ—Ä–µ–ø–∏—Å–∫–∏</div>
        <div class="subtitle">–ß–∞—Ç —Å –∫–ª–∏–µ–Ω—Ç–æ–º (—Å–µ—Å—Å–∏—è –ø–æ —Å—Å—ã–ª–∫–µ)</div>
      </div>
    </div>

    <div class="controls">
      <label class="toggle">
        <input id="llmToggle" type="checkbox" />
        <span>LLM</span>
      </label>

      <button id="endBtn" class="btn btn-ghost" type="button">–ó–∞–≤–µ—Ä—à–∏—Ç—å –¥–∏–∞–ª–æ–≥</button>
      <button id="resetBtn" class="btn btn-ghost" type="button">–°–±—Ä–æ—Å</button>
    </div>
  </header>

  <main class="layout">
    <section class="card chatCard">
      <div class="cardHead">
        <div class="hgroup">
          <h2 id="scenarioTitle">–°—Ü–µ–Ω–∞—Ä–∏–π</h2>
          <div id="scenarioMeta" class="meta"></div>
        </div>
        <div class="status">
          <span class="dot" id="statusDot"></span>
          <span id="statusText">–ì–æ—Ç–æ–≤–æ</span>
        </div>
      </div>

      <div id="chat" class="chat" aria-live="polite" aria-label="–ß–∞—Ç"></div>

      <div class="composer">
        <textarea id="input" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É‚Ä¶" rows="3"></textarea>
        <div class="composerRow">
          <div class="hint" id="hintText"></div>
          <button id="sendBtn" class="btn" type="button">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </div>
      </div>
    </section>

    <aside class="side">
      <section class="card">
        <div class="cardHead">
          <h3>–°–µ—Å—Å–∏—è</h3>
          <div class="pill" id="managerPill">–ú–µ–Ω–µ–¥–∂–µ—Ä: ‚Äî</div>
        </div>
        <div class="small" id="sessionInfo"></div>
      </section>

      <section class="card">
        <div class="cardHead">
          <h3>–û—Ü–µ–Ω–∫–∞</h3>
          <div class="pill"><span id="scoreValue">‚Äî</span></div>
        </div>
        <div class="small">–û—Ü–µ–Ω–∫–∞ –ø–æ—è–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è ‚Äú–ó–∞–≤–µ—Ä—à–∏—Ç—å –¥–∏–∞–ª–æ–≥‚Äù.</div>
        <div id="checklist" class="checklist"></div>
      </section>

      <section class="card">
        <div class="cardHead">
          <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∞</h3>
        </div>

        <div class="form">
          <label class="field">
            <span>Worker URL</span>
            <input id="workerUrl" type="text" placeholder="https://xxx.workers.dev" />
          </label>

          <label class="field">
            <span>–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</span>
            <select id="saveMode">
              <option value="download">–°–∫–∞—á–∞—Ç—å JSON</option>
              <option value="worker">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ Worker (/save)</option>
            </select>
          </label>

          <button id="saveConfigBtn" class="btn btn-ghost" type="button">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>

          <div class="small">
            –î–ª—è ‚Äú–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ Worker‚Äù –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç /save –≤ Worker (—è –¥–∞–º –∫–æ–¥) –∏ –≤–∫–ª—é—á–∏—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (KV/D1).
          </div>
        </div>
      </section>
    </aside>
  </main>

  <div id="modal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modalCard">
      <h3 class="h3" style="margin-top:0;">–í–≤–µ–¥–∏—Ç–µ –§–ò–û –º–µ–Ω–µ–¥–∂–µ—Ä–∞</h3>
      <div class="form">
        <label class="field">
          <span>–§–ò–û</span>
          <input id="mgrName" type="text" placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á" />
        </label>
      </div>
      <div class="row" style="justify-content:flex-end; gap:10px;">
        <button id="mgrOk" class="btn" type="button">–ù–∞—á–∞—Ç—å</button>
      </div>
      <div class="small">–§–ò–û —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –¥–ª—è —ç—Ç–æ–π —Å–µ—Å—Å–∏–∏.</div>
    </div>
  </div>

  <script src="./app.js"></script>
</body>
</html>
